{% extends "layout.html" %}

{% block content %}
<div class="bento-grid animate-enter">
  <div class="bento-card span-4">
    <div class="card-header">
      <span class="card-title">Connected Devices</span>
      <div class="top-actions">
        <button class="action-btn" onclick="refreshDevices()">
          <i class="ri-refresh-line"></i>
        </button>
        <a href="{{ url_for('export_devices', fmt='csv') }}" class="action-btn" title="Export CSV">
          <i class="ri-file-excel-line"></i>
        </a>
        <a href="{{ url_for('export_devices', fmt='pdf') }}" class="action-btn" title="Export PDF">
          <i class="ri-file-pdf-line"></i>
        </a>
      </div>
    </div>

    <div style="overflow-x: auto;">
      <table class="modern-table">
        <thead>
          <tr>
            <th>IP Address</th>
            <th>MAC Address</th>
            <th>Hostname</th>
            <th>Traffic (MB)</th>
            <th>Status</th>
            <th>Last Seen</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="devicesList">
          <tr>
            <td colspan="6" style="text-align:center; color: var(--text-muted);">Loading devices...</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/Devices.js') }}?v=2"></script>
{% endblock %}