{% extends "layout.html" %}

{% block content %}
<div style="display: flex; justify-content: center; align-items: center; height: 80vh;">
    <div class="bento-card" style="width: 100%; max-width: 400px; padding: 2rem;">
        <h2 style="text-align: center; margin-bottom: 2rem; color: var(--primary);">Login</h2>

        {% if error %}
        <div
            style="background: rgba(239, 68, 68, 0.1); color: var(--danger); padding: 0.75rem; border-radius: 8px; margin-bottom: 1rem; text-align: center; border: 1px solid var(--danger);">
            {{ error }}
        </div>
        {% endif %}

        <form method="POST" action="{{ url_for('login_page') }}">
            <div style="margin-bottom: 1.5rem;">
                <label style="display: block; color: var(--text-muted); margin-bottom: 0.5rem;">Username</label>
                <input type="text" name="username" required
                    style="width: 100%; padding: 0.75rem; background: rgba(255,255,255,0.05); border: 1px solid var(--glass-border); color: white; border-radius: 8px; outline: none;">
            </div>

            <div style="margin-bottom: 2rem; position: relative;">
                <label style="display: block; color: var(--text-muted); margin-bottom: 0.5rem;">Password</label>
                <input type="password" name="password" id="password" required
                    style="width: 100%; padding: 0.75rem; background: rgba(255,255,255,0.05); border: 1px solid var(--glass-border); color: white; border-radius: 8px; outline: none;">
                <i class="ri-eye-line" id="togglePassword"
                    style="position: absolute; right: 10px; top: 38px; cursor: pointer; color: var(--text-muted);"></i>
            </div>

            <button type="submit" class="action-btn"
                style="width: 100%; justify-content: center; padding: 1rem; font-size: 1rem;">
                Login
            </button>
        </form>

        <div style="text-align: center; margin-top: 1.5rem; font-size: 0.9rem;">
            <a href="{{ url_for('register_page') }}" style="color: var(--text-muted); text-decoration: none;">Create an
                account</a>
        </div>
    </div>
</div>

<script>
    const togglePassword = document.querySelector('#togglePassword');
    const password = document.querySelector('#password');

    togglePassword.addEventListener('click', function (e) {
        const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
        password.setAttribute('type', type);
        this.classList.toggle('ri-eye-off-line');
        this.classList.toggle('ri-eye-line');
    });
</script>
{% endblock %}